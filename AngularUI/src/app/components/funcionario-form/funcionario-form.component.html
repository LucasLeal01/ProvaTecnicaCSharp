<div class="card mb-4">
  <div class="card-header">
    <h5>{{ isEditing ? 'Editar' : 'Novo' }} Funcionário</h5>
  </div>
  <div class="card-body">
    <form [formGroup]="funcionarioForm" (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="col-md-6">
          <div class="form-group mb-3">
            <label for="nome" class="form-label">Nome *</label>
            <input 
              type="text" 
              id="nome"
              class="form-control" 
              formControlName="nome"
              [class.is-invalid]="funcionarioForm.get('nome')?.invalid && funcionarioForm.get('nome')?.touched">
            <div class="invalid-feedback" *ngIf="funcionarioForm.get('nome')?.invalid && funcionarioForm.get('nome')?.touched">
              Nome é obrigatório (máximo 100 caracteres).
            </div>
          </div>
        </div>
        
        <div class="col-md-6">
          <div class="form-group mb-3">
            <label for="cargo" class="form-label">Cargo *</label>
            <input 
              type="text" 
              id="cargo"
              class="form-control" 
              formControlName="cargo"
              [class.is-invalid]="funcionarioForm.get('cargo')?.invalid && funcionarioForm.get('cargo')?.touched">
            <div class="invalid-feedback" *ngIf="funcionarioForm.get('cargo')?.invalid && funcionarioForm.get('cargo')?.touched">
              Cargo é obrigatório (máximo 50 caracteres).
            </div>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-6">
          <div class="form-group mb-3">
            <label for="dataAdmissao" class="form-label">Data de Admissão *</label>
            <input 
              type="date" 
              id="dataAdmissao"
              class="form-control" 
              formControlName="dataAdmissao"
              [class.is-invalid]="funcionarioForm.get('dataAdmissao')?.invalid && funcionarioForm.get('dataAdmissao')?.touched">
            <div class="invalid-feedback" *ngIf="funcionarioForm.get('dataAdmissao')?.invalid && funcionarioForm.get('dataAdmissao')?.touched">
              Data de admissão é obrigatória.
            </div>
          </div>
        </div>
        
        <div class="col-md-6">
          <div class="form-group mb-3">
            <label for="salario" class="form-label">Salário *</label>
            <input 
              type="number" 
              id="salario"
              class="form-control" 
              formControlName="salario"
              step="0.01"
              min="0"
              [class.is-invalid]="funcionarioForm.get('salario')?.invalid && funcionarioForm.get('salario')?.touched">
            <div class="invalid-feedback" *ngIf="funcionarioForm.get('salario')?.invalid && funcionarioForm.get('salario')?.touched">
              Salário é obrigatório e deve ser maior que zero.
            </div>
          </div>
        </div>
      </div>

      <div class="alert alert-danger" *ngIf="error">
        {{ error }}
      </div>

      <div class="d-flex gap-2">
        <button 
          type="submit" 
          class="btn btn-primary" 
          [disabled]="funcionarioForm.invalid || loading">
          <span *ngIf="loading" class="spinner-border spinner-border-sm me-2"></span>
          {{ isEditing ? 'Atualizar' : 'Salvar' }}
        </button>
        <button 
          type="button" 
          class="btn btn-secondary" 
          (click)="onCancel()"
          [disabled]="loading">
          Cancelar
        </button>
      </div>
    </form>
  </div>
</div>

